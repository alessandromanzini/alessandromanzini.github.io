webpackJsonp([3],{"./generated/javascripts/templates/closure/no-i18n/tiger/components/newsletter/subscription.js":function(a,b,c){var d,e;d=[c("./public/javascripts/tiger.js"),c("./public/javascripts/mantle.js"),c("./public/javascripts/lib/amd-wrapped/soy/goog.js"),c("./public/javascripts/lib/amd-wrapped/soy/soy.js"),c("./public/javascripts/lib/amd-wrapped/soy/soydata.js")],e=function(a,b,c,d,e){if("undefined"==typeof a)var a={};"undefined"==typeof a.components&&(a.components={}),"undefined"==typeof a.components.newsletter&&(a.components.newsletter={}),a.components.newsletter.blogLogo=function(a,b,c){return e.markUnsanitizedText('<img class="lf-modal--logo" src="'+a.blogLogoUrl+'">')},c.DEBUG&&(a.components.newsletter.blogLogo.soyTemplateName="tiger.components.newsletter.blogLogo"),a.components.newsletter.emailOnlyForm=function(b,c,d){var f="",g="Subscribe to our newsletter!",h=g,i="Now you can get the top stories from "+b.blogName+" delivered to your inbox. Enter your email below.",j=i,k="Subscribe",l=k,m="Saving...",n=m;return f+=a.components.newsletter.blogLogo(b,null,d)+"<h3>"+h+"</h3><p>"+j+"</p>"+a.components.newsletter.emailField(b,null,d)+'<div class="lf-button-wrapper"><span class="button primary js_submit">'+l+'</span><span class="button js_submit--disabled primary disabled hide">'+n+"</span></div>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.emailOnlyForm.soyTemplateName="tiger.components.newsletter.emailOnlyForm"),a.components.newsletter.confirm=function(b,c,d){var f="",g="Thanks for subscribing!",h=g,i="Okay",j=i;if(f+=a.components.newsletter.blogLogo(b,null,d)+"<p>"+h,b.hideConfirmation)f+="</p>";else{var k="You should receive a confirmation email shortly.",l=k;f+="<br />"+l+"</p>"}return f+='<div class="lf-button-wrapper"><span class="button js_close">'+j+"</span></div>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.confirm.soyTemplateName="tiger.components.newsletter.confirm"),a.components.newsletter.placeholderMessage=function(a,b,c){var d="",f="Your email address",g=f;return d+=g,e.VERY_UNSAFE.ordainSanitizedHtml(d)},c.DEBUG&&(a.components.newsletter.placeholderMessage.soyTemplateName="tiger.components.newsletter.placeholderMessage"),a.components.newsletter.emailField=function(b,c,d){var f="",g="Email Address",h=g,i="Resend",j=i,k="This email address is already subscribed, please enter another.",l=k,m="You need to select at least one of our lists to subscribe.",n=m;return f+='<label class="field"><input type="text" placeholder="'+(b.emailValue?""+b.emailValue:""+a.components.newsletter.placeholderMessage(null,null,d))+'" value="'+(b.emailValue?""+b.emailValue:"")+'" class="email__input text-input js_email-address js_input change-color" /><span class="js_fielddescription fielddescription">'+h+'</span><div><small data-property="email" data-reason="minLength" class="warningmessage hide">'+a.messages.tooShortEmail(null,null,d)+'</small><small data-property="email" data-reason="maxLength" class="warningmessage hide">'+a.messages.tooLongEmail(null,null,d)+'</small><small data-property="email" data-reason="emailFormat" class="warningmessage hide">'+a.messages.validEmail(null,null,d)+'</small><small data-property="email" data-reason="ajax" class="warningmessage hide">'+a.messages.networkError(null,null,d)+' <a class="js_resend">'+j+'</a></small><small data-property="email" data-reason="unauthorized" class="warningmessage hide">'+a.messages.notAuthorized(null,null,d)+'</small><small data-property="email" data-reason="alreadyused" class="warningmessage hide">'+a.messages.usedEmail(null,null,d)+'</small><small data-property="email" data-reason="alreadysubscribed" class="warningmessage hide">'+l+'</small><small data-property="email" data-reason="nolistselected" class="warningmessage hide">'+n+'</small><small data-property="email" data-reason="required" class="warningmessage hide">'+a.messages.validEmail(null,null,d)+'</small><small class="warningmessage hide" data-property="email" data-reason="network">'+a.messages.networkError(null,null,d)+'</small><small class="warningmessage hide" data-property="email" data-reason="salesforce">'+a.messages.salesforceError(null,null,d)+"</small></div></label>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.emailField.soyTemplateName="tiger.components.newsletter.emailField"),a.components.newsletter.miscCopy=function(a,b,c){var d="",f='By subscribing to our newsletter, you agree to our <a href="https://legal.kinja.com/kinja-terms-of-use-1793094100" target="_blank">terms&nbsp;of&nbsp;use</a> and <a href="https://legal.kinja.com/privacy-policy-1793094625" target="_blank">privacy&nbsp;policy</a>.',g=f;return d+='<p class="lf-modal--misc">'+g+"</p>",e.VERY_UNSAFE.ordainSanitizedHtml(d)},c.DEBUG&&(a.components.newsletter.miscCopy.soyTemplateName="tiger.components.newsletter.miscCopy"),a.components.newsletter.saveBtn=function(a,b,c){var d="",f="Save",g=f,h="Saving...",i=h;return d+='<div class="lf-button-wrapper"><span class="button js_submit">'+g+'</span><span class="button js_submit--disabled primary disabled hide">'+i+"</span></div>",e.VERY_UNSAFE.ordainSanitizedHtml(d)},c.DEBUG&&(a.components.newsletter.saveBtn.soyTemplateName="tiger.components.newsletter.saveBtn")}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./generated/javascripts/templates/closure/no-i18n/tiger/components/newsletter/subscriptionButton.js":function(a,b,c){var d,e;d=[c("./public/javascripts/tiger.js"),c("./public/javascripts/mantle.js"),c("./public/javascripts/lib/amd-wrapped/soy/goog.js"),c("./public/javascripts/lib/amd-wrapped/soy/soy.js"),c("./public/javascripts/lib/amd-wrapped/soy/soydata.js")],e=function(a,b,c,d,e){if("undefined"==typeof a)var a={};"undefined"==typeof a.components&&(a.components={}),"undefined"==typeof a.components.newsletter&&(a.components.newsletter={}),a.components.newsletter.subscribeButton=function(b,c,d){var f="",g="Want "+b.blogName+"’s email newsletter?",h=g,i="Subscribe",j=i,i="Subscribe",k=i;return f+='<div class="newsletter-subscribe"><div class="newsletter-subscribe__copy">'+h+'</div><div class="newsletter-subscribe__cta"><button class="button hide-for-xlarge-up primary js_newsletter-subscribe">'+j+'</button><button class="button small show-for-xlarge-up primary js_newsletter-subscribe">'+k+"</button></div>"+a.components.newsletter.termsAndPrivacy(null,null,d)+'<div class="newsletter-subscribe__close js_close-subscribe">'+a.icons.essential.closeSmall(null,null,d)+"</div></div>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.subscribeButton.soyTemplateName="tiger.components.newsletter.subscribeButton"),a.components.newsletter.subscribeButtonEmail=function(b,c,d){var f="",g="Want "+b.blogName+"’s email newsletter?",h=g,i="Subscribe",j=i;return f+='<div class="newsletter-subscribe newsletter-subscribe--email"><div class="newsletter-subscribe__copy">'+h+'</div><div class="newsletter-subscribe__cta">'+a.components.newsletter.emailField(b,null,d)+'<button class="button small primary js_submit">'+j+"</button></div>"+a.components.newsletter.termsAndPrivacy(null,null,d)+'<div class="newsletter-subscribe__close js_close-subscribe">'+a.icons.essential.closeSmall(null,null,d)+"</div></div>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.subscribeButtonEmail.soyTemplateName="tiger.components.newsletter.subscribeButtonEmail"),a.components.newsletter.subscribeButtonEmailV2=function(b,c,d){var f="",g="Subscribe",h=g,i="No, thanks",j=i;if(f+='<div class="newsletter-subscribe newsletter-subscribe--email"><div class="newsletter-subscribe__logo">'+a.components.newsletter.subscriptionLogo(b,null,d)+'</div><div class="newsletter-subscribe__copy">',d.features.newsletter_form_v2_copy_b)f+=""+a.components.newsletter.subscriptionCopy(b,null,d);else{var k="Want "+b.blogName+"’s email newsletter?",l=k;f+=""+l}f+="</div>";var m=b.blogParentId||b.blogId;if(b.newsletterLists[m]){var n=b.newsletterLists[m];f+=""+a.components.newsletter.subscriptionOptions({blogId:m,blogLists:n},null,d)}return f+='<div class="newsletter-subscribe__cta">'+a.components.newsletter.emailField(b,null,d)+'</div><div class="newsletter-subscribe__button"><button class="button small js_submit">'+h+"</button></div>"+a.components.newsletter.termsAndPrivacy(null,null,d)+'<div class="newsletter-subscribe__close js_close-subscribe"><span>'+j+"</span></div></div>",e.markUnsanitizedText(f)},c.DEBUG&&(a.components.newsletter.subscribeButtonEmailV2.soyTemplateName="tiger.components.newsletter.subscribeButtonEmailV2"),a.components.newsletter.termsAndPrivacy=function(a,b,c){var d="",f='By subscribing you agree to our <a href="https://legal.kinja.com/kinja-terms-of-use-1793094100">Terms of Use</a> and <a href="https://legal.kinja.com/privacy-policy-1793094625">Privacy Policy</a>.',g=f;return d+='<div class="newsletter-subscribe__terms-privacy">'+g+"</div>",e.VERY_UNSAFE.ordainSanitizedHtml(d)},c.DEBUG&&(a.components.newsletter.termsAndPrivacy.soyTemplateName="tiger.components.newsletter.termsAndPrivacy"),a.components.newsletter.subscriptionCopy=function(a,b,c){var d="";if(11==a.blogId){var f="Sports news without access, favor, or discretion.",g=f;d+=g}else if(4==a.blogId){var h="We come from the future — but our emails go right to your inbox.",i=h;d+=i}else if(39==a.blogId){var j="Celebrity, sex, and fashion news for women. Without airbrushing.",k=j;d+=k}else if(1635821517==a.blogId){var l="Commentary and news from a variety of black perspectives.",m=l;d+=m}else if(12==a.blogId){var n="Follow the cult of cars and everything that moves you.",o=n;d+=o}else if(9==a.blogId){var p="Your guide to everything happening in the gaming world.",q=p;d+=q}else if(17==a.blogId){var r="Hacking literally your entire life, starting with your inbox.",s=r;d+=s}else if("Onion"==a.blogName){var t="Give your spam filter something to do.",u=t;d+=u}else if(1636027099==a.blogId){var v="Newsletters for the pop culture obsessed.",w=v;d+=w}else if(1635895473==a.blogId)d+="Want Splinter’s email newsletter?";else if("Clickhole"==a.blogName){var x="Get ClickHole delivered straight to your spam folder.",y=x;d+=y}else if(1636140418==a.blogId){var z="Food is delicious.",A=z;d+=A}else if(1458353822==a.blogId){var B="It's all consuming.",C=B;d+=C}return e.VERY_UNSAFE.ordainSanitizedHtml(d)},c.DEBUG&&(a.components.newsletter.subscriptionCopy.soyTemplateName="tiger.components.newsletter.subscriptionCopy"),a.components.newsletter.subscriptionLogo=function(b,c,d){return e.VERY_UNSAFE.ordainSanitizedHtml(11==b.blogId||11==b.blogParentId?a.components.branding.deadspinLogo(null,null,d):1636390014==b.blogId?a.components.branding.eartherLogo(null,null,d):4==b.blogId||4==b.blogParentId?a.components.branding.gizmodoLogo(null,null,d):39==b.blogId||39==b.blogParentId?a.components.branding.jezebelLogo(null,null,d):1635821517==b.blogId||1635821517==b.blogParentId?a.components.branding.therootLogo(null,null,d):12==b.blogId||12==b.blogParentId?a.components.branding.jalopnikLogo(null,null,d):9==b.blogId||9==b.blogParentId?a.components.branding.kotakuLogo(null,null,d):17==b.blogId||17==b.blogParentId?a.components.branding.lifehackerLogo(null,null,d):1636079510==b.blogId||1636079510==b.blogParentId?a.components.branding.theonionLogo(null,null,d):1636027099==b.blogId||1636027099==b.blogParentId?a.components.branding.avclubLogo(null,null,d):1635895473==b.blogId||1635895473==b.blogParentId?a.components.branding.splinterLogo(null,null,d):1636140418==b.blogId||1636140418==b.blogParentId?a.components.branding.thetakeoutLogo(null,null,d):1636577167==b.blogId||1636577167==b.blogParentId?a.components.branding.clickholeLogo(null,null,d):19292!=b.blogId&&19292!=b.blogParentId||null==b.blogLogo?1458353822==b.blogId||1458353822==b.blogParentId?a.components.branding.theinventoryLogo(null,null,d):"":a.components.branding.gizmodoESLogo(b,null,d))},c.DEBUG&&(a.components.newsletter.subscriptionLogo.soyTemplateName="tiger.components.newsletter.subscriptionLogo"),a.components.newsletter.subscriptionOptions=function(a,b,c){var f="";if(d.$$getMapKeys(a.blogLists).length>1){f+='<div class="newsletter-subscribe__options">';for(var g=d.$$getMapKeys(a.blogLists),h=g.length,i=0;i<h;i++){var j=g[i],k=a.blogLists[j];f+='<label class="newsletter-subscribe__option" for="newsletter-list-'+d.$$escapeHtmlAttribute(j)+'"><input id="newsletter-list-'+d.$$escapeHtmlAttribute(j)+'" name="'+d.$$escapeHtmlAttribute(j)+'" class="checkbox js_newsletter-list js_newsletter-list-'+d.$$escapeHtmlAttribute(j)+'" type="checkbox" checked="checked" /><span class="checkbox__cta">'+d.$$escapeHtml(k.name)+"</span>"+(k.description?'<span class="checkbox__desc">'+d.$$escapeHtml(k.description)+"</span>":"")+"</label>"}f+="</div>"}return e.VERY_UNSAFE.ordainSanitizedHtml(f)},c.DEBUG&&(a.components.newsletter.subscriptionOptions.soyTemplateName="tiger.components.newsletter.subscriptionOptions")}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./node_modules/lodash/_arrayEvery.js":function(a,b){function c(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}a.exports=c},"./node_modules/lodash/_baseEach.js":function(a,b,c){var d=c("./node_modules/lodash/_baseForOwn.js"),e=c("./node_modules/lodash/_createBaseEach.js"),f=e(d);a.exports=f},"./node_modules/lodash/_baseEvery.js":function(a,b,c){function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=c("./node_modules/lodash/_baseEach.js");a.exports=d},"./node_modules/lodash/_createBaseEach.js":function(a,b,c){function d(a,b){return function(c,d){if(null==c)return c;if(!e(c))return a(c,d);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&d(h[g],g,h)!==!1;);return c}}var e=c("./node_modules/lodash/isArrayLike.js");a.exports=d},"./node_modules/lodash/assignIn.js":function(a,b,c){var d=c("./node_modules/lodash/_copyObject.js"),e=c("./node_modules/lodash/_createAssigner.js"),f=c("./node_modules/lodash/keysIn.js"),g=e(function(a,b){d(b,f(b),a)});a.exports=g},"./node_modules/lodash/every.js":function(a,b,c){function d(a,b,c){var d=h(a)?e:f;return c&&i(a,b,c)&&(b=void 0),d(a,g(b,3))}var e=c("./node_modules/lodash/_arrayEvery.js"),f=c("./node_modules/lodash/_baseEvery.js"),g=c("./node_modules/lodash/_baseIteratee.js"),h=c("./node_modules/lodash/isArray.js"),i=c("./node_modules/lodash/_isIterateeCall.js");a.exports=d},"./node_modules/lodash/extend.js":function(a,b,c){a.exports=c("./node_modules/lodash/assignIn.js")},"./public/javascripts/module/newsletter/SubscriptionModule.js":function(a,b,c){var d,e;d=[c("./public/javascripts/lib/underscore.js"),c("./public/javascripts/lib/js-cookie.js"),c("./public/javascripts/app/MarionetteApp.js"),c("./public/javascripts/module/newsletter/newsletter.subscribeView.js"),c("./public/javascripts/module/newsletter/newsletter.emailButtonView.js"),c("./public/javascripts/module/newsletter/newsletter.email.model.js"),c("./public/javascripts/singleton/Feature.js"),c("./public/javascripts/singleton/CurrentBlog.js"),c("./public/javascripts/singleton/CurrentUser.js"),c("./public/javascripts/singleton/Utils.js"),c("./public/javascripts/app/account/account.channel.js"),c("./public/javascripts/app/footer/footer.logoView.es6"),c("./packages/kinja-components/components/footer/index.js"),c("./packages/kinja-components/config/consts.js")],e=function(a,b,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p={start:function(){var a=!!i.properties&&!!i.properties.newsletter;return a?(j.isLoggedIn()||p.updateBtnState(),void j.onLoggedIn.done(function(){p.updateBtnState()})):void(i&&this.showFooterLogo(i.blogId,i.displayName,i.parentId))},updateBtnState:function(){var a=i.properties&&i.properties.newsletter,c=!!i.parentId,e=c&&86286===i.id,f=c&&1636390014===i.id,g=!!b.get("newsletterDismiss"),h=!!b.get("newsletterDismissPermanently"),j=!c&&a||e||f?i.displayName:o.BLOG_GROUPS[i.blogGroup],k=i.id,m=i.parentId;l.on("newsletterflow:subscribe:done",this.hideSubscriptionFormsPermanently),l.on("newsletterflow:subscribe:done",this.showFooterLogo.bind(null,k,j,m)),d.subscribeBtnSidebarRegion.reset(),d.subscribeBtnInstreamRegion.reset(),d.subscribeBtnFooterRegion.reset(),h?this.showFooterLogo(k,j,m):g?(this.showSubscriptionBtn(k,j,!0),this.showFooterLogo(k,j,m)):this.showSubscriptionBtn(k,j)},showSubscriptionBtn:function(a,c,e){var h=!!b.get("newsletterDismissPermanently"),i=[];h||i.push(d.subscribeBtnFooterRegion),l.on("newsletterflow:submit",this.submitEmail),e||i.push(d.subscribeBtnSidebarRegion,d.subscribeBtnInstreamRegion),i.map(function(b){b.show(new f({blogName:c,blogId:a,model:new g({sourceId:$(b.el).data("sourceid")})}))})},submitEmail:function(a,b){var d=i.properties,e=b.email,f;d.salesforceExternalKey&&(f={newsletter:d.salesforceExternalKey,email:e,referralSource:document.referrer,referralUrl:document.location.href,sourceId:a.get("sourceId")}),c.e(0).then(function(d){var e=c("./public/javascripts/module/LoginModule.js");e.controller.submitNewsletterEmail(a,b,f)}.bind(null,c)).catch(c.oe)},hideSubscriptionFormsPermanently:function(){$(".js_newsletter-btn--subscribe").find(".newsletter-subscribe-wrapper").removeClass("open"),b.set("newsletterDismissPermanently",!0)},showFooterLogo:function(a,b,c){if(h.isOn("react_footer")){var e=".js_site-footer",f=$(e)[0],g=k.getKinjaMeta().pageType,l=["splash","claim","dashboard"].includes(g),o;ReactDOM.unmountComponentAtNode(f),o={blog:l?null:i,enableStoreModal:h.isOn("footer_modal"),hideContentGuide:h.isOn("hide_footer_content_guide"),isLoggedIn:j.isLoggedIn(),pageType:g,showFooterLogo:!0,token:j.get("token")},ReactDOM.render(React.createElement(n,o),f)}else d.footerLogoRegion.show(new m({blogName:b,blogId:a,blogParentId:c}))}};return p}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./public/javascripts/module/newsletter/newsletter.email.model.js":function(a,b,c){var d,e;d=[c("./public/javascripts/lib/jquery.js"),c("./public/javascripts/lib/backbone.js"),c("./public/javascripts/apiclient/profile.js"),c("./public/javascripts/apiclient/salesforce.es6"),c("./public/javascripts/apiclient/postup.es6"),c("./public/javascripts/config-default.js"),c("./public/javascripts/singleton/Utils.js"),c("./public/javascripts/singleton/Feature.js"),c("./node_modules/lodash/extend.js")],e=function(a,b,c,d,e,f,g,h,i){"use strict";var j=b.Model.extend({createEmailWithSubscription:function(a){function b(a){return d.subscribe(a).then(function(){return this},Promise.reject)}function h(a){return e.subscribe(a).then(function(){return this},Promise.reject)}function j(){return Promise.reject("Newsletter is not configured for this site")}var k=g.getKinjaMeta().blog.properties.singleOptIn,l,m;return k?c.getUserInfo().then(function(c){return l=!c.geoip.length||!(f.newsletter.singleOptInCountryCodes.indexOf(c.geoip[0])>-1),this.set({doubleOptIn:l}),m=i({},a,this.attributes),a?b(m):m.listIds?h(m):j()}.bind(this)):(this.set({doubleOptIn:!0}),m=i({},a,this.attributes),a?b(m):m.listIds?h(m):j())}});return j}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./public/javascripts/module/newsletter/newsletter.emailButtonView.js":function(a,b,c){var d,e;d=[c("./public/javascripts/lib/jquery.js"),c("./node_modules/lodash/every.js"),c("./public/javascripts/lib/js-cookie.js"),c("./public/javascripts/lib/backbone.marionette.js"),c("./public/javascripts/singleton/Feature.js"),c("./public/javascripts/app/account/account.channel.js"),c("./public/javascripts/singleton/CurrentUser.js"),c("./public/javascripts/singleton/CurrentBlog.js"),c("./public/javascripts/config-default.js"),c("./public/javascripts/view/modal/modal.formBehavior.js"),c("./generated/javascripts/templates/closure/no-i18n/tiger/components/newsletter/subscription.js"),c("./generated/javascripts/templates/closure/no-i18n/tiger/components/newsletter/subscriptionButton.js"),c("./generated/javascripts/templates/closure/no-i18n/tiger/components/branding/gmg-logos.js")],e=function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d.ItemView.extend({validationFields:[{name:"email",validators:["required","emailFormat"]}],template:tiger.components.newsletter.subscribeButtonEmailV2,className:"newsletter-subscribe-wrapper newsletter-btn",tagName:"form",ui:{dismissBtn:".js_close-subscribe",fieldDescription:".js_fielddescription",submitBtn:".js_submit",email:".js_email-address",messages:"[data-reason]",inputBox:"input",newsletterList:".js_newsletter-list",avClubDaily:".js_newsletter-list-avclub-daily",avClubTonight:".js_newsletter-list-avclub-tonight",onionDaily:".js_newsletter-list-onion-daily",onionWeekly:".js_newsletter-list-onion-weekly"},behaviors:{FormBehavior:{behaviorClass:j}},events:{"click @ui.dismissBtn":"onDismissBtn"},serializeData:function(){return{blogName:this.options.blogName,blogId:this.options.blogId,blogLogo:h.logo,newsletterLists:i.newsletter.lists,sourceId:this.options.sourceId,blogParentId:h.parentId}},onRender:function(){this.$el.addClass("open")},onDismissBtn:function(){a(".js_dismissable").find(".newsletter-subscribe-wrapper").removeClass("open"),c.set("newsletterDismiss",!0),window.ga("send","event","Newsletter","Dismiss Subscription Form")},submit:function(){var c=this.ui,d=[],e={email:c.email.val(),blogId:h.parentId&&86286!=h.id?h.parentId:h.id},j=i.newsletter.lists,k=b(c.newsletterList,function(b){return!a(b).prop("checked")});if(c.newsletterList.length){if(k)return void this.triggerMethod("RenderWarning","nolistselected");c.newsletterList.each(function(b,c){a(c).prop("checked")&&d.push(j[e.blogId][a(c).prop("name")])}),d.length&&(e.listIds=d)}g.isLoggedIn()&&(e.userId=g.id),f.trigger("newsletterflow:submit",this.model,e)},onModelError:function(a,b){var c=JSON.parse(b.responseText),d=c.meta.error;"INVALID_PARAMETER"===d.code?this.triggerMethod("RenderWarning","alreadysubscribed"):"SALESFORCE_ERROR"===d.code?this.triggerMethod("RenderWarning","salesforce"):this.triggerMethod("RenderWarning","network")}});return k}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./public/javascripts/module/newsletter/newsletter.subscribeView.js":function(a,b,c){var d,e;d=[c("./public/javascripts/lib/jquery.js"),c("./public/javascripts/lib/js-cookie.js"),c("./public/javascripts/lib/backbone.marionette.js"),c("./public/javascripts/app/account/account.channel.js"),c("./public/javascripts/singleton/CurrentUser.js"),c("./generated/javascripts/templates/closure/no-i18n/tiger/components/newsletter/subscriptionButton.js")],e=function(a,b,c,d,e){"use strict";var f=c.ItemView.extend({template:tiger.components.newsletter.subscribeButton,className:"newsletter-subscribe-wrapper newsletter-btn",ui:{dismissBtn:".js_close-subscribe",subscribeBtn:".js_newsletter-subscribe"},events:{"click @ui.dismissBtn":"onDismissBtn","click @ui.subscribeBtn":"onSubscribeClick"},serializeData:function(){return{blogName:this.options.blogName}},onRender:function(){this.$el.addClass("open")},onDismissBtn:function(){var c=e.isLoggedIn()?"Logged In":"Logged Out";a(".js_dismissable").find(".newsletter-subscribe-wrapper").removeClass("open"),b.set("newsletterDismiss",!0),window.ga("send","event","Newsletter Stream Page","Box Close",c)},onSubscribeClick:function(a){var b=e.isLoggedIn()?"Logged In":"Logged Out";a.preventDefault(),window.ga("send","event","Newsletter Stream Page","Subscribe Click",b)}});return f}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./public/javascripts/view/modal/modal.formBehavior.js":function(a,b,c){var d,e;d=[c("./public/javascripts/lib/jquery.js"),c("./public/javascripts/lib/underscore.js"),c("./public/javascripts/lib/backbone.marionette.js"),c("./public/javascripts/gawkerlib/stripHtmlTags.js"),c("./public/javascripts/singleton/CurrentUser.js"),c("./public/javascripts/singleton/CurrentBlog.js")],e=function(a,b,c,d,e,f){"use strict";function g(a){this.name="ValidatorArgumentError",this.message="Invalid argument passed to validator `"+a+"`",this.stack=(new Error).stack}var h=13,i;return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,i=c.Behavior.extend({events:{submit:"onFormSubmit","click .js_submit":"onFormSubmit","keypress .js_submit":"onFormSubmit","keypress input[type=text]":"onSubmitKey","input .js_input":"onFieldInput"},modelEvents:{error:"onModelError"},characterRegex:{blogsubdomain:/^[^-][a-zA-Z0-9-]+$/},validators:{required:function(a){return"select"===a[0].tagName.toLowerCase()?!!a.val()&&""!==a.val():""!==a.val().trim()},minLength:function(a,b){if(null===b)b=3;else if("number"!=typeof b)throw new g("minLength");return a.val().trim().length>=b},maxLength:function(a,b){if(null===b)b=63;else if("number"!=typeof b)throw new g("maxLength");return a.val().trim().length<=b},htmlMaxLength:function(a,b){var c=a.val().trim();if(null===b)b=63;else if("number"!=typeof b)throw new g("maxLength");return c.length<=b||d(c).length<=b},checked:function(a){return a.is(":checked")},characters:function(a){return!!this.characterRegex[a.attr("data-regex")]&&this.characterRegex[a.attr("data-regex")].test(a.val())},doesntStartWithDash:function(a){return/^[^-]/.test(a.val())},chooseOne:function(a,b){return""!==a.val()||""!==b.val()},number:function(a){return!!parseFloat(a.val())},positive:function(a){return parseFloat(a.val())>0},emailFormat:function(a){return/^([\w.+-]+)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/.test(a.val())},urlFormat:function(a){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:\/?#[\]@!$&'()*+,;=.]+$/.test(a.val())},urlWithProtocol:function(a){return/^http(s)?:\/\/?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:\/?#[\]@!$&'()*+,;=.]+$/.test(a.val())},creditCard:function(a){return!Stripe||Stripe.card.validateCardNumber(a.val())},cvc:function(a){return!Stripe||Stripe.card.validateCVC(a.val())}},isValid:function(){var a=!0,c=this,d=b.result(this.view,"validationFields"),e=this.view.ui;return d&&d.length&&b.each(d,function(d){var f=d.name,g=d.validators,h=g.length,i,j,k,l;if(e[f]&&g&&h)for(k=0;k<h;k++){if(i=g[k],j=null,b.isArray(i)&&(j=i[1],i=i[0]),"optional"===i&&""===e[f].val())return;if(l="chooseOne"===i?c.validators[i].call(c,e[f],e[d.alternate]):"optional"===i&&""!==e[f].val()||c.validators[i].call(c,e[f],j||null),l===!1){a=!1,c.displayMessage(i,f);break}}}),this.options.onFormValidated&&this.options.onFormValidated.call(this.view,a),this.options.customValidation&&(a=a&&this.options.customValidation.bind(this.view)()),a},initialize:function(){this.view.isValid=this.isValid.bind(this)},displayMessage:function(b,c){this.view.bindUIElements();var d=this.view.ui.messages.filter('[data-reason="'+b+'"]'),e,f=["success","addmember","removemember","changerole"];c&&(d=d.filter('[data-property="'+c+'"]')),this.view.ui.fieldDescription&&d.closest("label").find(".js_fielddescription").addClass("hide"),d.hasClass("warningmessage")&&this.view.ui.inputBox&&d.closest("label").find("input, textarea").addClass("warninginput"),d.hasClass("alert")&&d.closest("label").find("input, textarea").addClass("alertinput"),a.inArray(b,f)===-1?(e=parseInt(d.attr("data-timeout"),10),d.removeClass("hide")):(this.view.ui.messages.addClass("hide"),this.view.ui.inputBox&&this.view.ui.inputBox.removeClass("warninginput","alertinput"),this.view.ui.fieldDescription&&this.view.ui.fieldDescription.removeClass("hide")),this.reenableSubmit(),e&&window.setTimeout(function(){d.addClass("hide")},e)},onModelError:function(){this.view.onModelError&&this.view.onModelError.apply(this.view,arguments),this.reenableSubmit()},onFormSubmit:function(a){"submit"!==a.type&&this.useSemanticSubmit()||(a.preventDefault(),this.submitHandler())},onSubmitKey:function(a){this.useSemanticSubmit()||a.which===h&&(a.preventDefault(),this.view.ui.submitInput?this.view.ui.submitInput.click():this.submitHandler())},submitHandler:function(){this.disableSubmit(),this.view.ui.messages&&(this.view.ui.messages.addClass("hide"),this.view.ui.inputBox&&this.view.ui.inputBox.removeClass("warninginput","alertinput"),this.view.ui.fieldDescription&&this.view.ui.fieldDescription.removeClass("hide")),this.isValid()?this.view.submit?this.view.submit():window.console.warn("The view associated with FormBehavior is missing a submit method"):(this.view.error&&this.view.error(),this.reenableSubmit()),this.options.resetFields&&this.view.ui.inputBox.val("")},onRenderWarning:function(a,b){this.displayMessage(a,b)},onDisableSubmit:function(){this.disableSubmit()},onReenableSubmit:function(){this.reenableSubmit()},onRenderSuccess:function(){this.displayMessage("success")},getSubmitButton:function(){var a=this.view.$(".js_submit");return a.length||(a=this.view.$('button[type="submit"]')),a},useSemanticSubmit:function(){return this.getSubmitButton().filter('button[type="submit"]').length>1},disableSubmit:function(){var a=this.getSubmitButton();a.length&&a.is("input")&&a.attr("disabled","disabled"),this.options.disableSubmit&&this.options.disableSubmit.call(this.view)},reenableSubmit:function(){this.getSubmitButton().removeAttr("disabled"),this.options.reenableSubmit&&this.options.reenableSubmit.call(this.view)},onFieldInput:function(c){var d=a(c.target),e,f,g,h;e=d.closest(".field"),e.length||(e=d.parent()),f=e.find(".warningmessage"),g=e.find(".js_fielddescription"),f&&(b.each(f,function(b){a(b).hasClass("hide")||(h=!0)}),h&&this.clearErrors(d,f,g)),this.options.enableLiveValidation&&this.isValid()},clearErrors:function(a,b,c){a.removeClass("warninginput alertinput"),b.addClass("hide"),c.removeClass("hide")},onOwnerOrAdminInputs:function(){var b=e.hasRole("OWNER",f.id)||e.hasRole("ADMIN",f.id);b||(a(".js_input, .js_textarea, .js_upload-form .button").attr("disabled","disabled"),this.getSubmitButton().addClass("hide"))}})}.apply(b,d),!(void 0!==e&&(a.exports=e))}});
//# sourceMappingURL=3.f1dde76ffc2ab88da8bc.en-US.js.map