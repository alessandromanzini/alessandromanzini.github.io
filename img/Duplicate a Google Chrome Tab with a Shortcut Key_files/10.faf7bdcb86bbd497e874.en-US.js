webpackJsonp([10],{"./public/javascripts/gawkerlib/lightboxer.es6":function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=a.querySelectorAll(".js_lightbox-wrapper"),c=function a(b){var c=b.querySelector("img, video"),d=b.querySelector(".js_lightbox");d.classList.remove("hide"),d.addEventListener("click",o),c.classList.add("cursor-pointer"),c.addEventListener("click",o)};Array.prototype.forEach.call(b,c)}Object.defineProperty(b,"__esModule",{value:!0}),b.showLightbox=b.buildLightboxElement=void 0,b.default=e;var f=c("./public/javascripts/gawkerlib/dom.js"),g=d(f),h=c("./packages/kinja-images/imageUrl.js"),i=d(h);c("./public/javascripts/module/EssentialIconModule.js");var j=c("./public/javascripts/singleton/Feature.js"),k=d(j),l=function a(b){return["mp4","webm"].indexOf(b)!==-1},m=function a(b){return b?b.split(".").pop().split(/#|\?/)[0]:"mp4"},n=b.buildLightboxElement=function a(b,c,d){var e=document.createElement("div");e.className="lightbox-overlay";var f='\n\t\t<div class="lightbox-container">\n\t\t\t<span class="spinner bounce">\n\t\t\t\t<span class="one"></span>\n\t\t\t\t<span class="two"></span>\n\t\t\t\t<span class="three"></span>\n\t\t\t</span>\n\t\t\t<a href="javascript:;" class="close js_close icon--svg svg-icon--white u-giant u-full--onhover">\n\t\t\t\t<svg class="svg-icon svg-close hide" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<use xlink:href="#iconset-close" />\n\t\t\t\t</svg>\n\t\t\t</a>';return f+=l(d)?'<video class="hide" autoplay loop muted>\n\t\t\t\t\t\t\t<source type="video/mp4" src="'+b+'">\n\t\t\t\t\t\t</video>':'<img class="hide" src="'+b+'">',c&&(f+='<p class="lightbox-caption hidden">'+c.textContent+"</p>"),f+="</div>",e.innerHTML=f,e},o=b.showLightbox=function a(b){function c(){q.removeEventListener("click",r),document.removeEventListener("keydown",s),document.querySelector(".lightbox-overlay").remove(),o&&j.play()}var d=g.default.findParentByClassName(b.target,"img-wrapper"),e=d.querySelector("figcaption"),f=d.querySelector("img:not(.ls-pre-lazy-img), video"),h=f.dataset.chompId,j=document.querySelector("[data-chomp-id='"+h+"']"),l=void 0,o="video"===f.tagName.toLowerCase();l=o?m(f.currentSrc):f.dataset.format.toLowerCase(),o&&j.pause();var p=(0,i.default)(h,"Original",l),q=n(p,e,l),r=function a(b){var d=b.target,e=d.tagName.toLowerCase();return"img"!==e&&"video"!==e&&c(),!1},s=function a(b){var d=b.key;return"Escape"===d&&c(),!1},t=q.querySelector("img, video"),u=q.querySelector(".svg-close"),v=q.querySelector(".spinner");t.addEventListener("load",function(){if(v.remove(),t.classList.remove("hide"),u.classList.remove("hide"),e){var a=q.querySelector(".lightbox-caption");a.style.width=t.width+"px",a.classList.remove("hidden")}}),k.default.isOn("gif_to_mp4")&&t.addEventListener("loadstart",function(){if(v.remove(),t.classList.remove("hide"),u.classList.remove("hide"),e){var a=q.querySelector(".lightbox-caption");a.style.width=f.dataset.width+"px",a.classList.remove("hidden")}}),document.addEventListener("keydown",s),q.addEventListener("click",r),document.body.appendChild(q)}}});
//# sourceMappingURL=10.faf7bdcb86bbd497e874.en-US.js.map